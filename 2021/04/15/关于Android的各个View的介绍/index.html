<!DOCTYPE html>

<html lang="en">

<head>
  
  <title>关于Android的各个View的介绍 - Hexo</title>
  <meta charset="UTF-8">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  
  

  <link rel="shortcut icon" href="/favicon.ico" type="image/png" />
  <meta name="description" content="关于Android的各个View的介绍 本篇已Kotlin为主要语言 介绍的功能皆为最新功能   Toolbar  设置标题  app:title&#x3D;&quot;这里是标题&quot;  设置标题前的图标 app:navigationIcon&#x3D;&quot;@drawable&#x2F;ic_baseline_arrow_back&quot;   是否选择在当前的布局当时是否以“视差”的方式来跟随滚动 app:">
<meta property="og:type" content="article">
<meta property="og:title" content="关于Android的各个View的介绍">
<meta property="og:url" content="http://example.com/2021/04/15/%E5%85%B3%E4%BA%8EAndroid%E7%9A%84%E5%90%84%E4%B8%AAView%E7%9A%84%E4%BB%8B%E7%BB%8D/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="关于Android的各个View的介绍 本篇已Kotlin为主要语言 介绍的功能皆为最新功能   Toolbar  设置标题  app:title&#x3D;&quot;这里是标题&quot;  设置标题前的图标 app:navigationIcon&#x3D;&quot;@drawable&#x2F;ic_baseline_arrow_back&quot;   是否选择在当前的布局当时是否以“视差”的方式来跟随滚动 app:">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://fu-bucket-key.oss-cn-shenzhen.aliyuncs.com/img/20210407182013.png">
<meta property="og:image" content="https://fu-bucket-key.oss-cn-shenzhen.aliyuncs.com/img/20210414100322.png">
<meta property="article:published_time" content="2021-04-15T02:49:00.000Z">
<meta property="article:modified_time" content="2021-04-15T02:49:44.710Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="kotlin">
<meta property="article:tag" content="View">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fu-bucket-key.oss-cn-shenzhen.aliyuncs.com/img/20210407182013.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/combine/npm/highlight.js@9.15.8/styles/atom-one-dark.css,gh/theme-nexmoe/hexo-theme-nexmoe@latest/source/lib/mdui_043tiny/css/mdui.css,gh/theme-nexmoe/hexo-theme-nexmoe@latest/source/lib/iconfont/iconfont.css,gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css?v=233" crossorigin>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css">
  
  <link rel="stylesheet" href="/css/style.css?v=1618458183792">
<meta name="generator" content="Hexo 5.2.0"></head>

<body class="mdui-drawer-body-left">
  
  <div id="nexmoe-background">
    <div class="nexmoe-bg" style="background-image: url(https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg)"></div>
    <div class="mdui-appbar mdui-shadow-0">
      <div class="mdui-toolbar">
        <a mdui-drawer="{target: '#drawer', swipe: true}" title="menu" class="mdui-btn mdui-btn-icon mdui-ripple"><i class="mdui-icon nexmoefont icon-menu"></i></a>
        <div class="mdui-toolbar-spacer"></div>
        <!--<a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>-->
        <a href="/" title="John Doe" class="mdui-btn mdui-btn-icon"><img src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/avatar.png" alt="John Doe"></a>
       </div>
    </div>
  </div>
  <div id="nexmoe-header">
      <div class="nexmoe-drawer mdui-drawer" id="drawer">
    <div class="nexmoe-avatar mdui-ripple">
        <a href="/" title="John Doe">
            <img src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/avatar.png" alt="John Doe" alt="John Doe">
        </a>
    </div>
    <div class="nexmoe-count">
        <div><span>Articles</span>22</div>
        <div><span>Tags</span>22</div>
        <div><span>Categories</span>0</div>
    </div>
    <div class="nexmoe-list mdui-list" mdui-collapse="{accordion: true}">
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/" title="回到首页">
            <i class="mdui-list-item-icon nexmoefont icon-home"></i>
            <div class="mdui-list-item-content">
                回到首页
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/about.html" title="关于博客">
            <i class="mdui-list-item-icon nexmoefont icon-info-circle"></i>
            <div class="mdui-list-item-content">
                关于博客
            </div>
        </a>
        
        <a class="nexmoe-list-item mdui-list-item mdui-ripple" href="/PY.html" title="我的朋友">
            <i class="mdui-list-item-icon nexmoefont icon-unorderedlist"></i>
            <div class="mdui-list-item-content">
                我的朋友
            </div>
        </a>
        
    </div>
    <aside id="nexmoe-sidebar">
  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-search">
        <form id="search_form" action_e="https://cn.bing.com/search?q=site:nexmoe.com" onsubmit="return search();">
            <label><input id="search_value" name="q" type="search" placeholder="Search"></label>
        </form>
    </div>
</div>
  
  <div class="nexmoe-widget-wrap">
    <div class="nexmoe-widget nexmoe-social">
        <a class="mdui-ripple" href="https://jq.qq.com/?_wv=1027&k=5CfKHun" target="_blank" mdui-tooltip="{content: 'QQ群'}" style="color: rgb(249, 174, 8);background-color: rgba(249, 174, 8, .1);">
            <i class="nexmoefont icon-QQ"></i>
        </a><a class="mdui-ripple" href="https://space.bilibili.com/20238211" target="_blank" mdui-tooltip="{content: '哔哩哔哩'}" style="color: rgb(231, 106, 141);background-color: rgba(231, 106, 141, .15);">
            <i class="nexmoefont icon-bilibili"></i>
        </a><a class="mdui-ripple" href="https://github.com/nexmoe/" target="_blank" mdui-tooltip="{content: 'GitHub'}" style="color: rgb(25, 23, 23);background-color: rgba(25, 23, 23, .15);">
            <i class="nexmoefont icon-github"></i>
        </a>
    </div>
</div>
  
  

  
  
  <div class="nexmoe-widget-wrap">
    <div id="randomtagcloud" class="nexmoe-widget tagcloud nexmoe-rainbow">
      <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Context/" style="font-size: 10px;">Context</a> <a href="/tags/Error/" style="font-size: 12px;">Error</a> <a href="/tags/Fragment/" style="font-size: 10px;">Fragment</a> <a href="/tags/Function/" style="font-size: 10px;">Function</a> <a href="/tags/Glide/" style="font-size: 10px;">Glide</a> <a href="/tags/Java/" style="font-size: 12px;">Java</a> <a href="/tags/Kotlin/" style="font-size: 16px;">Kotlin</a> <a href="/tags/MVP/" style="font-size: 10px;">MVP</a> <a href="/tags/Money/" style="font-size: 10px;">Money</a> <a href="/tags/NoLimits/" style="font-size: 10px;">NoLimits</a> <a href="/tags/Recycler/" style="font-size: 10px;">Recycler</a> <a href="/tags/SQL/" style="font-size: 10px;">SQL</a> <a href="/tags/Service/" style="font-size: 10px;">Service</a> <a href="/tags/Sql/" style="font-size: 10px;">Sql</a> <a href="/tags/Thread/" style="font-size: 12px;">Thread</a> <a href="/tags/View/" style="font-size: 18px;">View</a> <a href="/tags/ViewModel/" style="font-size: 10px;">ViewModel</a> <a href="/tags/kotlin/" style="font-size: 14px;">kotlin</a> <a href="/tags/syntax/" style="font-size: 10px;">syntax</a> <a href="/tags/%E5%B1%8F%E5%B9%95%E9%80%82%E9%85%8D/" style="font-size: 10px;">屏幕适配</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%A2%98/" style="font-size: 10px;">面试题</a>
    </div>
    
  </div>

  
</aside>
    <div class="nexmoe-copyright">
        &copy; 2021 John Doe
        Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
        & <a href="https://github.com/theme-nexmoe/hexo-theme-nexmoe" target="_blank">Nexmoe</a>
        
    </div>
</div><!-- .nexmoe-drawer -->
  </div>
  <div id="nexmoe-content">
    <div class="nexmoe-primary">
        <div class="nexmoe-post">

  <div class="nexmoe-post-right">
    
  </div>

  <article>
    
        <div class="nexmoe-post-cover" style="padding-bottom: 66.66666666666666%;"> 
            <img data-src="https://cdn.jsdelivr.net/gh/nexmoe/nexmoe.github.io@latest/images/cover/5c3aec85a4343.jpg" data-sizes="auto" alt="关于Android的各个View的介绍" class="lazyload">
            <h1>关于Android的各个View的介绍</h1>
        </div>
    
    
    <div class="nexmoe-post-meta nexmoe-rainbow-fill" style="margin:10px 0!important;">
    <a><i class="nexmoefont icon-calendar-fill"></i>2021年04月15日</a>
    <a><i class="nexmoefont icon-areachart"></i>1.1k 字</a>
    <a><i class="nexmoefont icon-time-circle-fill"></i>大概 5 分钟</a>
</div>

    <h1 id="关于Android的各个View的介绍"><a href="#关于Android的各个View的介绍" class="headerlink" title="关于Android的各个View的介绍"></a>关于Android的各个View的介绍</h1><blockquote>
<p>本篇已Kotlin为主要语言</p>
<p>介绍的功能皆为最新功能</p>
</blockquote>
<ol>
<li><p><strong><em>Toolbar</em></strong></p>
<ul>
<li><p>设置标题</p>
<pre><code> app:title=&quot;这里是标题&quot;</code></pre>
</li>
<li><p>设置标题前的图标</p>
<pre><code>app:navigationIcon=&quot;@drawable/ic_baseline_arrow_back&quot;</code></pre>
<p><img src="https://fu-bucket-key.oss-cn-shenzhen.aliyuncs.com/img/20210407182013.png"></p>
</li>
<li><p>是否选择在当前的布局当时是否以“视差”的方式来跟随滚动</p>
<pre><code>app:layout_collapseMode=&quot;pin&quot;</code></pre>
<blockquote>
<p>其实就是让这个View的滚动的速度比其他正常滚动的View速度稍微慢一点</p>
</blockquote>
<h5 id="关于CollapsingToolbarLayout与Toolbar联动使用"><a href="#关于CollapsingToolbarLayout与Toolbar联动使用" class="headerlink" title="关于CollapsingToolbarLayout与Toolbar联动使用"></a>关于CollapsingToolbarLayout与Toolbar联动使用</h5><ul>
<li><p>设置上滑到Toolbar高度时，Toolbar的背景以及过度颜色</p>
<pre><code>app:contentScrim=”?attr/colorPrimary”</code></pre>
<blockquote>
<p>当上滑到toolbar 高度期间直到达到toolbar高度时，给toolbar设置的背景色，以及过渡颜色。<em>当然，这里不仅仅可以设置颜色，也可以设置图片。</em> 如果不设置该属性，标题栏会过渡为以之前的图片为背景</p>
</blockquote>
</li>
<li><p>设置Toolbar Title位置</p>
<pre><code>app:expandedTitleGravity=”center_horizontal”</code></pre>
</li>
<li><p>设置Toolbar Title距离开始位置的边距</p>
<pre><code>app:expandedTitleMarginStart=”50dp”</code></pre>
</li>
<li></li>
</ul>
</li>
<li><p>设置Toolbar文字颜色 </p>
</li>
</ul>
</li>
<li><p><strong>Activity跳转动画</strong></p>
<ul>
<li><p>overridePendingTransition()</p>
<blockquote>
<p>这个方法用来覆盖即将到来的跳转动画，也就是说使用这个方法可以替换原本的跳转动画</p>
</blockquote>
</li>
<li><p>overridePendingTransition()的调用时机 </p>
<p>这个方法需要在startActivity()或者finish()之后立即调用</p>
<pre><code class="kotlin">val intent = Intent(activity, MainActivity::class.java)
        activity.startActivity(intent)
        activity.overridePendingTransition(
            R.anim.anim_slide_enter_bottom,
            R.anim.anim_no_anim
        )</code></pre>
<blockquote>
<p>overridePendingTransition()需要传入两个参数，第一个为进入动画，第二个为退出动画</p>
<p>这些资源都需要在anim文件夹中创建</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>ObjectAnimator</strong></p>
<ul>
<li><p>ObjectAnimator派生自ValueAnimator,所以ValueAnimator能用的方法，ObjectAnimator都能用, ObjectAnimator 是ValueAnimator的子类。</p>
</li>
<li><p>例子展示</p>
<pre><code class="kotlin">private val objectAnimator: ObjectAnimator by lazy &#123;
        ObjectAnimator.ofFloat(binding.ivCover, ANIMATION_PROPERTY_NAME, 0f, 360f).apply &#123;
            interpolator = LinearInterpolator()
            duration = DURATION_CD//设置动画时间
            repeatCount = ANIMATION_REPEAT_COUNTS
            start()
        &#125;
    &#125;</code></pre>
<blockquote>
<p><strong>ObjectAnimator.ofFloat</strong>接收4个参数</p>
<p>第一个：进行动画的View</p>
<p>第二个：需要进行动画的属性</p>
<p>第三个：起始值</p>
<p>第四个：结束值</p>
</blockquote>
</li>
<li><p><em>ObjectAnimator的函数</em></p>
<ol>
<li>改变旋转度数 rotation、rotationX、rotationY<ul>
<li>rotation:表示围绕 Z 旋转,rotation 表示旋转度数</li>
<li>rotationX:表示围绕X旋转,rotationX表示旋转度数</li>
<li>rotationY:表示微软Y旋转,rotationY表示旋转度数</li>
</ul>
</li>
<li>移动 translationX、translationY<ul>
<li>float translationX:表示在X轴上移动的距离，以当前控件为原点，向右为正方向，参数 translationX 表示移动的距离</li>
<li>float translationY:表示在Y轴上移动的距离，以当前控件为原点，向下位正方向，参数 translationY 表示移动的距离</li>
</ul>
</li>
<li>缩放 scaleX、scaleY<ul>
<li>float scaleX:在X轴上缩放，scaleX表示缩放倍数</li>
<li>float scaleY:在Y轴上缩放，scaleY表示缩放倍数</li>
</ul>
</li>
<li>改变透明度 alpha<ul>
<li>float alpha:控制View的透明度</li>
</ul>
</li>
</ol>
</li>
<li><p><em>自定义ObjectAnimator的属性</em></p>
<ul>
<li><p>只需要确保View需要改变属性有公开的 <strong>set’()</strong> / <strong>get()</strong> 方法即可</p>
<pre><code class="kotlin">class Circle(  //圆的半径
    var radius: Int
)</code></pre>
<p>接下来只需要给它创建一个set/get方法</p>
<pre><code class="kotlin">class MyPointView(context: Context?, attrs: AttributeSet?) : View(context, attrs) &#123;
    private val mCircle: Circle? = Circle(0)
    protected fun onDraw(canvas: Canvas) &#123;
        if (mCircle != null) &#123;
            val paint = Paint()
            paint.setAntiAlias(true)
            paint.setColor(Color.RED)
            paint.setStyle(Paint.Style.FILL)
            canvas.drawCircle(400, 500, mCircle.getRadius(), paint)
        &#125;
        super.onDraw(canvas)
    &#125;

    //set函数
    //get函数
    var circleRadius: Int
        get() = 800
        set(radius) &#123;
            mCircle.setRadius(radius)
            invalidate()//invalidate()请求重绘View树，也就是刷新View
        &#125;

&#125; </code></pre>
<p>在Activity中使用</p>
<pre><code class="kotlin">val animator = ObjectAnimator.ofInt(view, &quot;circleRadius&quot;, 40, 400)
        animator.interpolator = BounceInterpolator()
        animator.duration = 2000
        animator.start()</code></pre>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>DataBingding与ViewBinding</strong></p>
<ul>
<li><p>dataBinding</p>
<ol>
<li><p>在Model的build.gradle中开启dataBinding</p>
<pre><code class="kotlin">android&#123;
    buildFeatures&#123;
        dataBinding = true
    &#125;
&#125;</code></pre>
<blockquote>
<p>在Android Stuio 4.0以上时，只能使用<strong>buildFeatures</strong>来进行管理</p>
</blockquote>
</li>
<li><p>在Xml中开启</p>
<p><img src="https://fu-bucket-key.oss-cn-shenzhen.aliyuncs.com/img/20210414100322.png"></p>
<blockquote>
<p>将光标移到第一行第一位，按下键盘”ALT+ENTER”选择第一个创建binding layout即可</p>
</blockquote>
</li>
<li><p>在Activity中引入</p>
<pre><code class="kotlin">class MainActivity : BaseActivity(), View.OnClickListener &#123;
    //先申明为延迟初始化
    private lateinit var binding: ActivityMainBinding

    override fun onCreate(savedInstanceState: Bundle?) &#123;
        super.onCreate(savedInstanceState)
        //使用DataBindingUtil来进行载入布局
        binding = DataBindingUtil.setContentView(this, R.layout.activity_main)
    &#125;
&#125;</code></pre>
</li>
<li><p>使用</p>
<pre><code class="kotlin">binding.randomText.text = &quot;当前随机参数为:$&#123;it?.get(0)?.randomName&#125;&quot;
binding.randomCountLast.text = &quot;随机次数为:$&#123;it?.get(0)?.randomNum&#125;&quot;</code></pre>
<p>直接使用<em>binding.xxx</em>来引用View</p>
</li>
</ol>
</li>
<li><p>viewBinding</p>
<ol>
<li><p>在Model的build.gradle中开启dataBinding</p>
<pre><code class="kotlin">android &#123;
        ...
        buildFeatures&#123;
        viewBinding = true
    &#125;
&#125; </code></pre>
</li>
<li><p>开启之后，系统将会自动的生成绑定类</p>
</li>
<li><p>在Activity中使用</p>
<pre><code class="kotlin">class MainActivity : BaseActivity(), View.OnClickListener &#123;
    //先申明为延迟初始化
    private lateinit var binding: ActivityMainBinding

    override fun onCreate(savedInstanceState: Bundle?) &#123;
        super.onCreate(savedInstanceState)
        //将不需要指明Layout文件
        binding = ActivityMainBinding.inflate(layoutInflater)
    &#125;
&#125;</code></pre>
<p>剩下的与dataBinding一致</p>
</li>
</ol>
</li>
</ul>
</li>
<li></li>
</ol>

  </article>

  
    
  <div class="nexmoe-post-copyright">
    <strong>Author：</strong>John Doe<br>
    <strong>Link：</strong><a href="http://example.com/2021/04/15/%E5%85%B3%E4%BA%8EAndroid%E7%9A%84%E5%90%84%E4%B8%AAView%E7%9A%84%E4%BB%8B%E7%BB%8D/" title="http:&#x2F;&#x2F;example.com&#x2F;2021&#x2F;04&#x2F;15&#x2F;%E5%85%B3%E4%BA%8EAndroid%E7%9A%84%E5%90%84%E4%B8%AAView%E7%9A%84%E4%BB%8B%E7%BB%8D&#x2F;" target="_blank" rel="noopener">http:&#x2F;&#x2F;example.com&#x2F;2021&#x2F;04&#x2F;15&#x2F;%E5%85%B3%E4%BA%8EAndroid%E7%9A%84%E5%90%84%E4%B8%AAView%E7%9A%84%E4%BB%8B%E7%BB%8D&#x2F;</a><br>
    
      <strong>版权声明：</strong>本文采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/deed.zh" target="_blank">CC BY-NC-SA 3.0 CN</a> 协议进行许可
    
  </div>


  
  
  <div class="nexmoe-post-meta nexmoe-rainbow">
    
    
        <a class="nexmoefont icon-tag-fill -none-link" href="/tags/View/" rel="tag">View</a> <a class="nexmoefont icon-tag-fill -none-link" href="/tags/kotlin/" rel="tag">kotlin</a>
    
</div>

  <div class="nexmoe-post-footer">
    <section class="nexmoe-comment">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.css">
<div id="gitalk"></div>
<script src="https://cdn.jsdelivr.net/npm/gitalk@1.5.0/dist/gitalk.min.js"></script>
<script type="text/javascript">
    var gitalk = new Gitalk({
        clientID: '80b2453b6d5f37ad6225',
        clientSecret: '43e99fa852795c9a7b3eb924b2558c64b84bbdeb',
        id: window.location.pathname,
        repo: 'nexmoe.github.io',
        owner: 'nexmoe',
        admin: 'nexmoe'
    })
    gitalk.render('gitalk')
</script>
</section>
  </div>
</div>
        <div class="nexmoe-post-right">
          <div class="nexmoe-fixed">
            <div class="nexmoe-tool">
              <a href="#nexmoe-content" class="toc-link" aria-label="回到顶部" title="top"><button class="mdui-fab mdui-ripple"><i class="nexmoefont icon-caret-top"></i></button></a>
            </div>
          </div>
        </div>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/combine/npm/lazysizes@5.1.0/lazysizes.min.js,gh/highlightjs/cdn-release@9.15.8/build/highlight.min.js,npm/mdui@0.4.3/dist/js/mdui.min.js?v=1"></script>
<script>
	hljs.initHighlightingOnLoad();
</script>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>


<script src="https://cdn.jsdelivr.net/gh/xtaodada/xtaodada.github.io@0.0.2/copy.js"></script>
 

<script src="/js/app.js?v=1618458183792"></script>

<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"></script>
<script>
	$(".justified-gallery").justifiedGallery({
		rowHeight: 160,
		margins: 10,
	});
</script>

  





</body>

</html>
