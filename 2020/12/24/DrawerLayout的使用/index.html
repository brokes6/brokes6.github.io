<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>
    DrawerLayout的使用 |
    
    Fuxinbo博客</title>
  
  <link rel="shortcut icon" href="/favicon.ico">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<script src="/js/pace.min.js"></script>

<meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="Fuxinbo博客" type="application/atom+xml">
</head>

<body>
  <main class="content">
    <section class="outer">
  <article id="post-DrawerLayout的使用" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
      

<h1 class="article-title" itemprop="name">
  DrawerLayout的使用
</h1>



    </header>
    

    
    <div class="article-meta">
      <a href="/2020/12/24/DrawerLayout%E7%9A%84%E4%BD%BF%E7%94%A8/" class="article-date">
  <time datetime="2020-12-24T07:58:00.000Z" itemprop="datePublished">2020-12-24</time>
</a>
      
    </div>
    

    
    
<div class="tocbot"></div>

    

    <div class="article-entry" itemprop="articleBody">
      
      
      
      <p>介绍Android中的DrawerLayout的使用</p>
<a id="more"></a>
<h1 id="DrawerLayout的使用"><a href="#DrawerLayout的使用" class="headerlink" title="DrawerLayout的使用"></a>DrawerLayout的使用</h1><blockquote>
<p>本篇已Kotlin为主要语言</p>
</blockquote>
<p>DrawerLayout也就是侧边栏</p>
<h3 id="整体分析"><a href="#整体分析" class="headerlink" title="整体分析"></a>整体分析</h3><ul>
<li>DrawerLayout     –侧边栏的父容器<ul>
<li>Fragment    –容器</li>
</ul>
</li>
<li>NavigationView   –侧边栏</li>
</ul>
<h3 id="开始实现"><a href="#开始实现" class="headerlink" title="开始实现"></a>开始实现</h3><ol>
<li><p>首先创建3个Fragment</p>
<p>ListFragment：</p>
<pre><code class="kotlin">class ListFragment : Fragment() &#123;

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? &#123;
        return inflater.inflate(R.layout.fragment_list, container, false)
    &#125;

&#125;</code></pre>
<p>TextFragment：</p>
<pre><code class="kotlin">class TextFragment : Fragment() &#123;

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? &#123;
        return inflater.inflate(R.layout.fragment_text, container, false)
    &#125;

&#125;</code></pre>
<p>PagerFragment：</p>
<pre><code class="kotlin">class PagerFragment : Fragment() &#123;

    override fun onCreateView(
        inflater: LayoutInflater, container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? &#123;
        return inflater.inflate(R.layout.fragment_pager, container, false)
    &#125;
&#125;</code></pre>
<p>点击 New 创建空白Framgnet即可</p>
<p><img src="C:\Users\fuxinbo\AppData\Roaming\Typora\typora-user-images\image-20201223112423832.png" alt="image-20201223112423832"></p>
</li>
<li><p>接下来在res文件中创建一个名为”navigation”的文件夹，在文件夹下创建navigation的xml文件</p>
<p><img src="C:\Users\fuxinbo\AppData\Roaming\Typora\typora-user-images\image-20201223112937398.png" alt="image-20201223112937398"></p>
</li>
<li><p>在navigation中编写3个Fragment，并将刚刚创建的3个Fragment传入</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
    xmlns:tools=&quot;http://schemas.android.com/tools&quot;
    android:id=&quot;@+id/navigation&quot;
    app:startDestination=&quot;@id/textFragment&quot;&gt;

    &lt;fragment
        android:id=&quot;@+id/textFragment&quot;
        android:name=&quot;com.laboratory.drawerdome.TextFragment&quot;
        android:label=&quot;@string/text_fragment&quot;
        tools:layout=&quot;@layout/fragment_text&quot; /&gt;
    &lt;fragment
        android:id=&quot;@+id/listFragment&quot;
        android:name=&quot;com.laboratory.drawerdome.ListFragment&quot;
        android:label=&quot;@string/list_fragment&quot;
        tools:layout=&quot;@layout/fragment_list&quot; /&gt;
    &lt;fragment
        android:id=&quot;@+id/pagerFragment&quot;
        android:name=&quot;com.laboratory.drawerdome.PagerFragment&quot;
        android:label=&quot;@string/pager_fragment&quot;
        tools:layout=&quot;@layout/fragment_pager&quot; /&gt;
&lt;/navigation&gt;</code></pre>
</li>
<li><p>继续在res下创建名为”menu”的文件夹，在文件夹下创建menu的xml</p>
</li>
<li><p>在menu中编写3个item，item的名字要与navigation中的fragment相同</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;

    &lt;item
        android:id=&quot;@+id/textFragment&quot;
        android:icon=&quot;@drawable/ic_baseline_one&quot;
        android:title=&quot;@string/text_fragment&quot; /&gt;
    &lt;item
        android:id=&quot;@+id/listFragment&quot;
        android:icon=&quot;@drawable/ic_baseline_two&quot;
        android:title=&quot;@string/list_fragment&quot; /&gt;
    &lt;item
        android:id=&quot;@+id/pagerFragment&quot;
        android:icon=&quot;@drawable/ic_baseline_three&quot;
        android:title=&quot;@string/pager_fragment&quot; /&gt;
&lt;/menu&gt;</code></pre>
</li>
<li><p>接下来就是在activity_main中进行设置</p>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
    xmlns:tools=&quot;http://schemas.android.com/tools&quot;
    android:id=&quot;@+id/drawerLayout&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    tools:context=&quot;.MainActivity&quot;
    tools:openDrawer=&quot;start&quot;&gt;

    &lt;androidx.constraintlayout.widget.ConstraintLayout
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot;&gt;

        &lt;fragment
            android:id=&quot;@+id/fragment&quot;
            android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;
            android:layout_width=&quot;match_parent&quot;
            android:layout_height=&quot;match_parent&quot;
            app:defaultNavHost=&quot;true&quot;
            app:navGraph=&quot;@navigation/navigation&quot; /&gt;

    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;

    &lt;com.google.android.material.navigation.NavigationView
        android:id=&quot;@+id/navigation&quot;
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot;
        android:layout_gravity=&quot;start&quot;
        app:headerLayout=&quot;@layout/navigation_header&quot;
        app:menu=&quot;@menu/menu&quot; /&gt;
&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;</code></pre>
<p>将menu设置给NavigationView，fragment设置侧边栏NavigationView</p>
<blockquote>
<p>android:layout_gravity=”start”   意思为设置侧边栏是从左到右，一定要写</p>
<p>DrawerLayout的openDrawer，是设置显示效果</p>
</blockquote>
</li>
<li><p>最后在Activity中设置</p>
<pre><code class="kotlin">class MainActivity : AppCompatActivity() &#123;
    //drawerLayout与导航栏的中继器
    private lateinit var appBerConfiguration: AppBarConfiguration
    //导航栏控制器
    private lateinit var navController: NavController

    override fun onCreate(savedInstanceState: Bundle?) &#123;
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)
        //获取Fragment容器
        navController = findNavController(R.id.fragment)
        //将drawerLayout和获取到导航栏图表相连
        appBerConfiguration = AppBarConfiguration(navController.graph, drawerLayout)
        //设置将由appBerConfiguration来控制navController
        setupActionBarWithNavController(navController, appBerConfiguration)
        //给Navigation设置控制器
        navigation.setupWithNavController(navController)
    &#125;

    //将顶部栏与navigation进行连接
    override fun onSupportNavigateUp(): Boolean &#123;
        return navController.navigateUp(appBerConfiguration) || super.onSupportNavigateUp()
    &#125;
&#125;</code></pre>
</li>
</ol>
<p>以上效果就完成了</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/24/DrawerLayout%E7%9A%84%E4%BD%BF%E7%94%A8/" data-id="cknjhceaz0006ggmegnajc69z" class="article-share-link">
        分享
      </a>
      
<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Kotlin/" rel="tag">Kotlin</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/View/" rel="tag">View</a></li></ul>

    </footer>

  </div>

  
  
<nav class="article-nav">
  
  <a href="/2020/12/24/Collapsing%E4%B8%8ENavigation/" class="article-nav-link">
    <strong class="article-nav-caption">前一篇</strong>
    <div class="article-nav-title">
      
      Collapsing与Navigation
      
    </div>
  </a>
  
  
  <a href="/2020/12/24/PicGo%E4%B8%8ETypora-%E4%B8%8A%E4%BC%A0%E5%9B%BE%E7%89%87/" class="article-nav-link">
    <strong class="article-nav-caption">后一篇</strong>
    <div class="article-nav-title">PicGo与Typora 上传图片</div>
  </a>
  
</nav>

  

  
  
  
  

</article>
</section>
    <footer class="footer">
  <div class="outer">
    <div class="float-right">
      <ul class="list-inline">
  
  <li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li>
  
  <li><i class="fe fe-bookmark"></i> <span id="busuanzi_value_page_pv"></span></li>
  
</ul>
    </div>
    <ul class="list-inline">
      <li>Fuxinbo博客 &copy; 2021</li>
      
        <li>京ICP备17054916号-2</li>
      
      <li>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></li>
      <li>theme  <a target="_blank" rel="noopener" href="https://github.com/zhwangart/hexo-theme-ocean">Ocean</a></li>
    </ul>
  </div>
</footer>
  </main>
  <aside class="sidebar">
    <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/hexo.svg" alt="Fuxinbo博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">Home</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">Archives</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/gallery">Gallery</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">About</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link nav-item-search" title="搜索">
        <i class="fe fe-search"></i>
        搜索
      </a>
    </li>
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      <div class="totop" id="totop">
  <i class="fe fe-rocket"></i>
</div>
    </li>
    <li class="nav-item">
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="fe fe-feed"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
  </aside>
  
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>



<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/copybtn.js"></script>





<script src="/js/tocbot.min.js"></script>

<script>
  // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto',
  });
</script>



<script src="/js/ocean.js"></script>

</body>

</html>